From 771d290ec91490d6aa27d6b15dd95389e1e02350 Mon Sep 17 00:00:00 2001
From: Robert Newson <rnewson@apache.org>
Date: Tue, 20 Aug 2013 12:32:29 +0100
Subject: [PATCH 14/14] Expose get_compactor_pid/1

---
 src/couch_index/src/couch_index.erl | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/couch_index/src/couch_index.erl b/src/couch_index/src/couch_index.erl
index 5bf322e..df004b4 100644
--- a/src/couch_index/src/couch_index.erl
+++ b/src/couch_index/src/couch_index.erl
@@ -16,7 +16,7 @@
 
 %% API
 -export([start_link/1, stop/1, get_state/2, get_info/1]).
--export([compact/1, compact/2]).
+-export([compact/1, compact/2, get_compactor_pid/1]).
 -export([config_change/3]).
 
 %% gen_server callbacks
@@ -67,6 +67,9 @@ compact(Pid, Options) ->
     end.
 
 
+get_compactor_pid(Pid) ->
+    gen_server:call(Pid, get_compactor_pid).
+
 config_change("query_server_config", "commit_freq", NewValue) ->
     ok = gen_server:cast(?MODULE, {config_update, NewValue}).
 
-- 
1.8.3.1

